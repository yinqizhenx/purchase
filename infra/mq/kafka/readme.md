kafka消费失败如何处理
1. 将消费失败的消息投入到重试队列，由特定的消费者拉去重试队列的消息，通过chan通知原来的消费地方消费，
   2. 如果当前时间还未到消息延迟消费时间，重新投入该重试队列
   3. 如果当前时间已到消费时间，则直接消费
      4. 如果消费成功，
      5. 如果消费失败，重试次数加1，更新延迟消费时间，重新投入重试队列
      6. 多次消费失败，发送到死信队列
      7. 这种方式存在的问题是，如果消费延迟时间未到之前，会不断消费和发布，浪费资源

2. 将消费失败消息插入mysql单独的表，标记状态pending，设置下次消费时间，并将消息加入优先队列，
3. 定时任务轮询优先队列，如果第一个消息时间到了，直接消费，并移除消息，消费成功，修改数据库消息状态为done, 实际消费成功时间，如果消费失败，
4. 将消息重新加入到优先队列，并将消息的重试次数加一，更新mysql消息重试次数(也可以不更新，多试几次没关系)，如果重新消费次数超过阈值，不在重试，
5. 将数据库消息状态修改为dead

如果服务宕机，重新启动时需要查询消息失败表，过滤pending的，来初始话优先队列, 这种方式存在问题，当服务存在多个，服务重启时，每个机器会包含所有
需要重试的消息，这会导致重复消费，消费端做好幂等，如果消息是已消费成功，则直接删除消息更新状态；另一种方式是用redis存储